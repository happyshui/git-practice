## Git 常用指令（入门级）
> 小叶哥在目录里，已详细对每个git操作做出分析（还包含了很多原理级别的）。而我自己当初，在要接触git时，也是徘徊在门外兜兜转转，最后因为工作需要，天天摸索，才总算入了门。所以，“熟能生巧”真的一点没错。  
> 之前把一些常用的操作记录在纸质笔记本上，平时偶尔忘记指令可以回翻。现在我把这些操作总结出来，希望对大家有所帮助。主要还是给自己做个电子档备份。O(∩_∩)O哈哈~  

### 概述  
Git的整个操作要素，可以用下图的流程概括：
![git简图，来自阮大大博客](../../images/celine/git-flow.png)  
**几个主要的结构体有：**   
1. Workspace 工作区：`git init`后，当前文件夹（自己电脑上，
2. 眼睛看得见的那个和平常文件夹一毛一样的文件存储区域）就是工作区。  
2. Index 暂存区：一个临时放置工作区编辑后文件的区域。`git add`后，有变动的文件会跑到这里来。  
3. Repository 本地仓库：相当于是在自己电脑上的一个仓库。`git init`后，你会发现当前文件夹多了一个`.git`的隐形文件夹，这里就存放着本地仓库的版本相关内容。  
4. Remote 远程仓库：这个是一个联网的在某个服务器上的库，我们一般使用github或者gitlab等。若希望别人能远程下载`clone`你的文件，就必须放到远程仓库。  

**接下来，我们简单捋一捋这个过程：**  
下行路程：作为小前端的我在本地电脑（**工作区**）上的一个文件夹下进行初始化`git init`，紧接着马不停蹄的撸了一把代码，保存为file.html  ------------> 通过 `add` ，把file.html放到了**暂存区** ------------>  然后又通过 `commit`，把file.html送到了**本地仓库** ------------>  最后通过 `push`，把file.html推送到了远程仓库。  

上行路程：这个月拿到激励金的我买了台笔记本，想把之前撸过的file.html工程下载到这台电脑上。先获得远程库里对应工程的地址（一个xxx.git的下载地址）------------> 通过 `clone` ，把file.html所在工程下载到了**本地仓库**（操作指令的文件路径下，会自动初始化为本地仓库）。------------> 通过 `checkout` ，把file.html检出到了**工作区**。

###  常用指令说明  
我的入门参考过阮大大博客，也入手过图灵的教材。但真正比较有感知的还是廖雪峰大大的[git教程系列](https://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000)。这个教程虽然有一点点年代了，但作为入门一点都不过时。只要按照步骤一步一步的走一遍，就能大体体味Git操作到底是什么个鬼东西了。  
此处我是精炼出指令来，以备查阅。  

#### 1 创建版本库
```
#初始化版本库
git init

#添加工作区变动到暂存区
git add

#添加暂存区内容到本地仓库
git commit

#查看仓库状态（工作区的变动文件是红色，暂存区的文件是绿色，也会有相关提示操作的语句）
git status

#查看文件修改（本地仓库和工作区比较）
git diff file1.txt
```

#### 2 版本回退
```
#查看提交日志（`git commit` 时，附录的说明）
git log

#查看提交日志（单行显示，看起来会更简洁）
git log --pretty=oneline

#回退上一个版本
git reset --hard HEAD^

# HEAD     当前版本
# HEAD^    上一个版本
# HEAD^^   上上一个版本
# HEAD~100 往上100个版本

#查看每一次命令（可以查看commit id，用以查找版本）
git reflog

#指定到commit id为3628164版本（实际的commit id数字串很长，可以不写全）
git reset --hard 368164

```

#### 3 撤销修改
```
#把工作区的修改撤销（丢弃工作区修改）
git checkout -- file1.txt

# 注意：
# 1. 若file1.txt没有add，上面的指令会让工作区回到版本库相同的状态；
# 2. 若file1.txt已经add到了暂存区，上面的指令会让工作区回到暂存区状态上
# 补充说明：checkout 是检出的意思，也就是从本地仓库提取指定文件来覆盖工作区的文件。
#           暂存区是工作区和本地仓库中间的一个桥梁，所以检出时候会先到暂存区去探究下，若没有再到本地仓库取。

#把暂存区的修改撤销，修改只保留在了工作区
git reset HEAD file1.txt

#若希望把已添加暂存区的修改丢弃，就得分别执行两步: 先撤销暂存区的修改（此时修改还在工作区），再撤销工作区的修改。
git reset HEAD file1.txt
git checkout -- file1.txt

# 注意：以上两行代码会让临时修改的代码彻底消失，谨慎操作。

```

#### 4 删文件
```
#1. 直接在工作区的文件夹把文件删除（右键-删除）
#2. 若确定要删除，继续执行以下指令
git rm file2.txt
git commit 

#3. 若误删了，可以使用撤销修改
git checkout -- file2.txt

```





